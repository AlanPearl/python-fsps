<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Modelling Stellar Populations &mdash; Python FSPS  documentation</title>
    
    <link rel="stylesheet" href="../_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Python FSPS  documentation" href="../" />
    <link rel="next" title="Working with Filters" href="../filters_api/" />
    <link rel="prev" title="Installation" href="../installation/" />
     
    
    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

    <!-- https://www.google.com/fonts#UsePlace:use/Collection:Source+Sans+Pro:400,700,400italic,700italic|Source+Code+Pro -->
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic,700italic|Source+Code+Pro' rel='stylesheet' type='text/css'>

    <link rel="shortcut icon" href="../_static/favicon.png">


  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../filters_api/" title="Working with Filters"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../installation/" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../">Python FSPS  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="modelling-stellar-populations">
<h1>Modelling Stellar Populations<a class="headerlink" href="#modelling-stellar-populations" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="#fsps.StellarPopulation" title="fsps.StellarPopulation"><code class="xref py py-class docutils literal"><span class="pre">fsps.StellarPopulation</span></code></a> drives FSPS and is generally the only API needed.
<a class="reference internal" href="../filters_api/#fsps.find_filter" title="fsps.find_filter"><code class="xref py py-func docutils literal"><span class="pre">fsps.find_filter()</span></code></a> can also be used interactively to search for a filter (see also <a class="reference internal" href="../filters/"><em>Table of FSPS Filters</em></a>).</p>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Lets start by initializing a simple stellar population, born with solar metallicity 6 Gyr after the Big Bang, and some dust with a Calzetti et al (2000) extinction curve:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">fsps</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">fsps</span><span class="o">.</span><span class="n">StellarPopulation</span><span class="p">(</span><span class="n">compute_vega_mags</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sfh</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">zmet</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
<span class="go">                                dust_type=2, dust2=0.2, sf_start=6.)</span>
</pre></div>
</div>
<p>Lets get the AB magnitudes in SDSS bands, when the SSP has evolved to 13.7 Gyr after the Big Bang:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sdss_bands</span> <span class="o">=</span> <span class="n">fsps</span><span class="o">.</span><span class="n">find_filter</span><span class="p">(</span><span class="s">&#39;sdss&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">sdss_bands</span><span class="p">)</span>
<span class="go">[&#39;sdss_u&#39;, &#39;sdss_g&#39;, &#39;sdss_i&#39;, &#39;sdss_r&#39;, &#39;sdss_z&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span><span class="o">.</span><span class="n">get_mags</span><span class="p">(</span><span class="n">tage</span><span class="o">=</span><span class="mf">13.7</span><span class="p">,</span> <span class="n">bands</span><span class="o">=</span><span class="n">sdss_bands</span><span class="p">)</span>
<span class="go">array([ 9.83712169,  7.89895578,  6.58329011,  6.9877158 ,  6.21844951])</span>
</pre></div>
</div>
<p>Now we can change a parameter (say, lower the metallicity) and get a new set of magnitudes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s">&#39;zmet&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span><span class="o">.</span><span class="n">get_mags</span><span class="p">(</span><span class="n">tage</span><span class="o">=</span><span class="mf">13.7</span><span class="p">,</span> <span class="n">bands</span><span class="o">=</span><span class="n">sdss_bands</span><span class="p">)</span>
<span class="go">array([ 8.56374292,  7.12518721,  6.14903857,  6.43916996,  5.9635293 ])</span>
</pre></div>
</div>
<p>We can also get the spectrum, here in units of <span class="math">\(L_\odot/\mathrm{Hz}\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wave</span><span class="p">,</span> <span class="n">spec</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">get_spectrum</span><span class="p">(</span><span class="n">tage</span><span class="o">=</span><span class="mf">13.7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fsps.StellarPopulation">
<em class="property">class </em><code class="descclassname">fsps.</code><code class="descname">StellarPopulation</code><span class="sig-paren">(</span><em>compute_vega_mags=False</em>, <em>zcontinuous=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fsps.StellarPopulation" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the main interface to use when interacting with FSPS from Python.
Most of the Fortran API is exposed through Python hooks with various
features added for user friendliness. When initializing, you can set any
of the parameters of the system using keyword arguments. Below, you&#8217;ll
find a list of the options that you can include (with the comments taken
directly from the <a class="reference external" href="https://github.com/cconroy20/fsps/blob/master/doc/MANUAL.pdf">FSPS docs</a>. To change
these values later, use the <code class="docutils literal"><span class="pre">params</span></code> property—which is <code class="docutils literal"><span class="pre">dict</span></code>-like.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sp</span> <span class="o">=</span> <span class="n">StellarPopulation</span><span class="p">(</span><span class="n">imf_type</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sp</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s">&quot;imf_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>compute_vega_mags</strong> &#8211; (default: False)
A switch that sets the zero points of the magnitude system: <code class="docutils literal"><span class="pre">True</span></code>
uses Vega magnitudes versus AB magnitudes.</li>
<li><strong>vactoair_flag</strong> &#8211; (default: False)
If <code class="docutils literal"><span class="pre">True</span></code>, output wavelengths in air (rather than vac).</li>
<li><strong>zcontinuous</strong> &#8211; <p>(default: 0)
Flag specifying how interpolation in metallicity is performed before
computing composite models:</p>
<ul>
<li>0: No interpolation, use the metallicity index specified by <code class="docutils literal"><span class="pre">zmet</span></code>.</li>
<li>1: The SSPs are interpolated to the value of <code class="docutils literal"><span class="pre">logzsol</span></code> before the
spectra and magnitudes are computed, and the value of <code class="docutils literal"><span class="pre">zmet</span></code> is
ignored.</li>
<li>2: The SSPs are convolved with a metallicity distribution function
specified by the <code class="docutils literal"><span class="pre">logzsol</span></code> and <code class="docutils literal"><span class="pre">pmetals</span></code> parameters. The value of
<code class="docutils literal"><span class="pre">zmet</span></code> is ignored.</li>
</ul>
</li>
<li><strong>redshift_colors</strong> &#8211; <p>(default: False)
Flag specifying how to compute magnitudes:</p>
<ul>
<li><code class="docutils literal"><span class="pre">False</span></code>: Magnitudes are computed at a fixed redshift specified by
<code class="docutils literal"><span class="pre">zred</span></code>.</li>
<li><code class="docutils literal"><span class="pre">True</span></code>: Magnitudes are computed at a redshift that corresponds to
the age of the output SSP/CSP (assuming a redshift–age relation
appropriate for a WMAP5 cosmology). This switch is useful if the user
wants to compute the evolution in observed colors of a SSP/CSP.</li>
</ul>
</li>
<li><strong>smooth_velocity</strong> &#8211; (default: True)
Switch to choose smoothing in velocity space (<code class="docutils literal"><span class="pre">True</span></code>) or wavelength
space.</li>
<li><strong>add_stellar_remnants</strong> &#8211; (default: True)
Switch to add stellar remnants in the stellar mass computation.</li>
<li><strong>add_igm_absorption</strong> &#8211; (default: False)
Switch to include IGM absorption via Madau (1995).  The <code class="docutils literal"><span class="pre">zred</span></code>
parameter must be non-zero for this switch to have any effect. The
optical depth can be scaled using the <code class="docutils literal"><span class="pre">igm_factor</span></code> parameter.</li>
<li><strong>add_neb_emission</strong> &#8211; (default: False)
Switch to turn on/off a Cloudy-based nebular emission model.</li>
<li><strong>add_neb_continuum</strong> &#8211; (default: True)
Switch to turn on/off the nebular continuum component (automatically
turned off if <code class="docutils literal"><span class="pre">add_neb_emission</span></code> is <code class="docutils literal"><span class="pre">False</span></code>).</li>
<li><strong>cloudy_dust</strong> &#8211; (default: False)
Switch to include dust in the Cloudy tables.</li>
<li><strong>add_dust_emission</strong> &#8211; (default: True)
Switch to turn on/off the Draine &amp; Li 2007 dust emission model.</li>
<li><strong>add_agb_dust_model</strong> &#8211; (default: True)
Switch to turn on/off the AGB circumstellar dust model. NB: The AGB
dust emission is scaled by the parameter <cite>agb_dust</cite>.</li>
<li><strong>tpagb_norm_type</strong> &#8211; <p>(default: 2)
Flag specifying TP-AGB normalization scheme:</p>
<ul>
<li>0: default Padova 2007 isochrones</li>
<li>1: Conroy &amp; Gunn 2010 normalization</li>
<li>2: Villaume, Conroy, Johnson 2015 normalization</li>
</ul>
</li>
<li><strong>dust_type</strong> &#8211; <p>(default: 0)
Common variable deﬁning the extinction curve for dust around old stars:</p>
<ul>
<li>0: power law with index dust index set by <code class="docutils literal"><span class="pre">dust_index</span></code>.</li>
<li>1: Milky Way extinction law (with the <span class="math">\(R = A_V /E(B - V)\)</span> value
given by <code class="docutils literal"><span class="pre">mwr</span></code>) parameterized by Cardelli et al. (1989).</li>
<li>2: Calzetti et al. (2000) attenuation curve. Note that if this value
is set then the dust attenuation is applied to all starlight equally
(not split by age), and therefore the only relevant parameter is
<code class="docutils literal"><span class="pre">dust2</span></code>, which sets the overall normalization.</li>
<li>3: allows the user to access a variety of attenuation curve models
from Witt &amp; Gordon (2000) using the parameters <code class="docutils literal"><span class="pre">wgp1</span></code> and <code class="docutils literal"><span class="pre">wgp2</span></code>.</li>
<li>4: Kriek &amp; Conroy 2013 attenuation curve.  In this model the slope of
the curve, set by the parameter <code class="docutils literal"><span class="pre">dust_index</span></code>, is linked to the
strength of the UV bump.</li>
</ul>
</li>
<li><strong>imf_type</strong> &#8211; <p>(default: 2)
Common variable defining the IMF type:</p>
<ul>
<li>0: Salpeter (1955)</li>
<li>1: Chabrier (2003)</li>
<li>2: Kroupa (2001)</li>
<li>3: van Dokkum (2008)</li>
<li>4: Dave (2008)</li>
<li>5: tabulated piece-wise power law IMF, specified in <code class="docutils literal"><span class="pre">imf.dat</span></code> file
located in the data directory</li>
</ul>
</li>
<li><strong>pagb</strong> &#8211; (default: 1.0)
Weight given to the post–AGB phase. A value of 0.0 turns off post-AGB
stars; a value of 1.0 implies that the Vassiliadis &amp; Wood (1994) tracks
are implemented as–is.</li>
<li><strong>dell</strong> &#8211; (default: 0.0)
Shift in <span class="math">\(\log L_\mathrm{bol}\)</span> of the TP-AGB isochrones. Note
that the meaning of this parameter and the one below has changed to
reflect the updated calibrations presented in Conroy &amp; Gunn (2009).
That is, these parameters now refer to a modification about the
calibrations presented in that paper.</li>
<li><strong>delt</strong> &#8211; (default: 0.0)
Shift in <span class="math">\(\log T_\mathrm{eff}\)</span> of the TP-AGB isochrones.</li>
<li><strong>fbhb</strong> &#8211; (default: 0.0)
Fraction of horizontal branch stars that are blue. The blue HB stars
are uniformly spread in <span class="math">\(\log T_\mathrm{eff}\)</span> to <span class="math">\(10^4\)</span>
K. See Conroy et al. (2009a) for details and a plausible range.</li>
<li><strong>sbss</strong> &#8211; (default: 0.0)
Specific frequency of blue straggler stars. See Conroy et al. (2009a)
for details and a plausible range.</li>
<li><strong>tau</strong> &#8211; (default: 1.0)
Defines e-folding time for the SFH, in Gyr. Only used if <code class="docutils literal"><span class="pre">sfh=1</span></code> or
<code class="docutils literal"><span class="pre">sfh=4</span></code>. The range is <span class="math">\(0.1 &lt; \tau &lt; 10^2\)</span>.</li>
<li><strong>const</strong> &#8211; (default: 0.0)
Defines the constant component of the SFH. This quantity is defined
as the fraction of mass formed in a constant mode of SF; the range
is therefore <span class="math">\(0 \le C \le 1\)</span>. Only used if <code class="docutils literal"><span class="pre">sfh=1</span></code> or
<code class="docutils literal"><span class="pre">sfh=4</span></code>.</li>
<li><strong>tage</strong> &#8211; (default: 0.0)
If set to a non-zero value, the
<code class="xref py py-func docutils literal"><span class="pre">fsps.StellarPopulation.compute_csp()</span></code> method will compute the
spectra and magnitudes only at this age, and will therefore only output
one age result. The units are Gyr. (The default is to compute and
return results from <span class="math">\(t \approx 0\)</span> to the maximum age in the
isochrones).</li>
<li><strong>fburst</strong> &#8211; (default: 0.0)
Deﬁnes the fraction of mass formed in an instantaneous burst of star
formation. Only used if <code class="docutils literal"><span class="pre">sfh=1</span></code> or <code class="docutils literal"><span class="pre">sfh=4</span></code>.</li>
<li><strong>tburst</strong> &#8211; (default: 11.0)
Defines the age of the Universe when the burst occurs. If <code class="docutils literal"><span class="pre">tburst</span> <span class="pre">&gt;</span>
<span class="pre">tage</span></code> then there is no burst. Only used if <code class="docutils literal"><span class="pre">sfh=1</span></code> or <code class="docutils literal"><span class="pre">sfh=4</span></code>.</li>
<li><strong>dust1</strong> &#8211; (default: 0.0)
Dust parameter describing the attenuation of young stellar light,
i.e. where <code class="docutils literal"><span class="pre">t</span> <span class="pre">&lt;=</span> <span class="pre">dust_tesc</span></code> (for details, see Conroy et al. 2009a).</li>
<li><strong>dust2</strong> &#8211; (default: 0.0)
Dust parameter describing the attenuation of old stellar light,
i.e. where <code class="docutils literal"><span class="pre">t</span> <span class="pre">&gt;</span> <span class="pre">dust_tesc</span></code> (for details, see Conroy et al. 2009a).</li>
<li><strong>logzsol</strong> &#8211; (default: 0.0)
Parameter describing the metallicity, given in units of <span class="math">\(\log
(Z/Z_\odot)\)</span>.  Only used if <code class="docutils literal"><span class="pre">zcontinuous</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>.</li>
<li><strong>zred</strong> &#8211; (default: 0.0)
Redshift. If this value is non-zero and if <code class="docutils literal"><span class="pre">redshift_colors=1</span></code>, the
magnitudes will be computed for the spectrum placed at redshift
<code class="docutils literal"><span class="pre">zred</span></code>.</li>
<li><strong>pmetals</strong> &#8211; (default: 2.0)
The power for the metallicty distribution function.  The MDF is given by
<span class="math">\((Z \, e^{{-Z}})^{{\mathrm{pmetals}}}\)</span> where <span class="math">\(Z =
z/(z_\odot \, 10^{{\mathrm{logzsol}}})\)</span> and z is the metallicity in
linear units (i.e., <span class="math">\(z_\odot = 0.019\)</span>).  Using a negative value
will result in smoothing of the SSPs by a three-point triangular kernel
before linear interpolation (in <span class="math">\(\log Z\)</span>) to the requested
metallicity.</li>
<li><strong>imf1</strong> &#8211; (default: 1.3)
Logarithmic slope of the IMF over the range <span class="math">\(0.08 &lt; M &lt; 0.5
M_\odot\)</span>. Only used if <code class="docutils literal"><span class="pre">imf_type=2</span></code>.</li>
<li><strong>imf2</strong> &#8211; (default: 2.3)
Logarithmic slope of the IMF over the range <span class="math">\(0.5 &lt; M &lt; 1
M_\odot\)</span>. Only used if <code class="docutils literal"><span class="pre">imf_type=2</span></code>.</li>
<li><strong>imf3</strong> &#8211; (default: 2.3)
Logarithmic slope of the IMF over the range <span class="math">\(1.0 &lt; M &lt; 100
M_\odot\)</span>. Only used if <code class="docutils literal"><span class="pre">imf_type=2</span></code>.</li>
<li><strong>vdmc</strong> &#8211; (default: 0.08)
IMF parameter defined in van Dokkum (2008). Only used if
<code class="docutils literal"><span class="pre">imf_type=3</span></code>.</li>
<li><strong>dust_clumps</strong> &#8211; (default: -99.)
Dust parameter describing the dispersion of a Gaussian PDF density
distribution for the old dust. Setting this value to -99.0 sets the
distribution to a uniform screen. See Conroy et al. (2009b) for
details.</li>
<li><strong>frac_nodust</strong> &#8211; (default: 0.0)
Fraction of starlight that is not attenuated by the diffuse dust
component (i.e. that is not affected by <code class="docutils literal"><span class="pre">dust2</span></code>).</li>
<li><strong>dust_index</strong> &#8211; (default: -0.7)
Power law index of the attenuation curve. Only used when
<code class="docutils literal"><span class="pre">dust_type=0</span></code>.</li>
<li><strong>dust_tesc</strong> &#8211; (default: 7.0)
Stars younger than <code class="docutils literal"><span class="pre">dust_tesc</span></code> are attenuated by both <code class="docutils literal"><span class="pre">dust1</span></code> and
<code class="docutils literal"><span class="pre">dust2</span></code>, while stars older are attenuated by <code class="docutils literal"><span class="pre">dust2</span></code> only. Units
are <span class="math">\(\log (\mathrm{yrs})\)</span>.</li>
<li><strong>frac_obrun</strong> &#8211; (default: 0.0)
Fraction of the young stars (age &lt; dust_tesc) that are not attenuated
by <code class="docutils literal"><span class="pre">dust1</span></code>, representing runaway OB stars.  These stars are still
attenuated by <code class="docutils literal"><span class="pre">dust2</span></code>.</li>
<li><strong>uvb</strong> &#8211; (default: 1.0)
Parameter characterizing the strength of the 2175A extinction feature
with respect to the standard Cardelli et al. determination for the
MW. Only used when <code class="docutils literal"><span class="pre">dust_type=1</span></code>.</li>
<li><strong>mwr</strong> &#8211; (default: 3.1)
The ratio of total to selective absorption which characterizes the MW
extinction curve: <span class="math">\(R = A_V /E(B - V)\)</span>. Only used when
<code class="docutils literal"><span class="pre">dust_type=1</span></code>.</li>
<li><strong>redgb</strong> &#8211; (default: 1.0)
Weighting of red  giant branch.</li>
<li><strong>dust1_index</strong> &#8211; (default: -1.0)
Power law index of the attenuation curve affecting stars younger than
dust_tesc corresponding to <code class="docutils literal"><span class="pre">dust1</span></code>. Only used when <code class="docutils literal"><span class="pre">dust_type=0</span></code>.</li>
<li><strong>mdave</strong> &#8211; (default: 0.5)
IMF parameter defined in Dave (2008). Only used if <code class="docutils literal"><span class="pre">imf_type=4</span></code>.</li>
<li><strong>sf_start</strong> &#8211; (default: 0.0)
Start time of the SFH, in Gyr.</li>
<li><strong>sf_trunc</strong> &#8211; (default: 0.0)
Undocumented.</li>
<li><strong>sf_slope</strong> &#8211; (default: 0.0)
Undocumented.</li>
<li><strong>duste_gamma</strong> &#8211; (default: 0.01)
Parameter of the Draine &amp; Li (2007) dust emission model. Specifies the
relative contribution of dust heated at a radiation field strength of
<span class="math">\(U_\mathrm{min}\)</span> and dust heated at <span class="math">\(U_\mathrm{min} &lt; U \le
U_\mathrm{max}\)</span>. Allowable range is 0.0 – 1.0.</li>
<li><strong>duste_umin</strong> &#8211; (default: 1.0)
Parameter of the Draine &amp; Li (2007) dust emission model. Specifies the
minimum radiation field strength in units of the MW value. Valid range
is 0.1 – 25.0.</li>
<li><strong>duste_qpah</strong> &#8211; (default: 3.5)
Parameter of the Draine &amp; Li (2007) dust emission model. Specifies the
grain size distribution through the fraction of grain mass in
PAHs. This parameter has units of % and a valid range of 0.0 − 10.0.</li>
<li><strong>fcstar</strong> &#8211; (default: 1.0)
Fraction of stars that the Padova isochrones identify as Carbon stars
that FSPS assigns to a Carbon star spectrum. Set this to 0.0 if for
example the users wishes to turn all Carbon stars into regular M-type
stars.</li>
<li><strong>masscut</strong> &#8211; (default: 150.0)
Truncate the IMF above this value.</li>
<li><strong>zmet</strong> &#8211; (default: 1)
The metallicity is specified as an integer ranging between 1 and nz. If
<code class="docutils literal"><span class="pre">zcontinuous</span> <span class="pre">&gt;</span> <span class="pre">0</span></code> then this parameter is ignored.</li>
<li><strong>sfh</strong> &#8211; <p>(default: 0)
Defines the type of star formation history, normalized such that one
solar mass of stars is formed over the full SFH. Default value is 0.</p>
<ul>
<li>0: Compute an SSP</li>
<li>1: Compute a five parameter SFH (see below).</li>
<li>2: Compute a tabulated SFH defined in a file called <code class="docutils literal"><span class="pre">sfh.dat</span></code> that
must reside in the data directory. The file must contain three
rows. The first column is time since the Big Bang in Gyr, the second
is the SFR in units of solar masses per year, the third is the
absolute metallicity. An example is provided in the data
directory. The time grid in this file can be arbitrary (so long as
the units are correct), but it is up to the user to ensure that the
tabulated SFH is well-sampled so that the outputs are stable.
Obviously, highly oscillatory data require dense sampling.  This
option is not supported in Python-FSPS.</li>
<li>4: Delayed tau-model. This is the same as option 1 except that the
tau-model component takes the form <span class="math">\(t\,e^{−t/\tau}\)</span>.</li>
</ul>
</li>
<li><strong>wgp1</strong> &#8211; (default: 1)
Integer specifying the optical depth in the Witt &amp; Gordon (2000)
models. Values range from 1 − 18, corresponding to optical depths of
0.25, 0.50, 0.75, 1.00, 1.50, 2.00, 2.50, 3.00, 3.50, 4.00, 4.50,
5.00, 5.50, 6.00, 7.00, 8.00, 9.00, 10.0. Note that these optical
depths are defined differently from the optical depths defined by
the parameters <code class="docutils literal"><span class="pre">dust1</span></code> and <code class="docutils literal"><span class="pre">dust2</span></code>. See Witt &amp; Gordon (2000)
for details.</li>
<li><strong>wgp2</strong> &#8211; (default: 1)
Integer specifying the type of large-scale geometry and extinction
curve. Values range from 1-6, corresponding to MW+dusty, MW+shell,
MW+cloudy, SMC+dusty, SMC+shell, SMC+cloudy. Dusty, shell, and cloudy
specify the geometry and are described in Witt &amp; Gordon (2000).</li>
<li><strong>wgp3</strong> &#8211; (default: 1)
Integer specifying the local geometry for the Witt &amp; Gordon (2000)
dust models. A value of 0 corresponds to a homogeneous distribution,
and a value of 1 corresponds to a clumpy distribution. See Witt &amp;
Gordon (2000) for details.</li>
<li><strong>evtype</strong> &#8211; (default: -1)
Compute SSPs for only the given evolutionary type.</li>
<li><strong>sigma_smooth</strong> &#8211; (default: 0.0)
If smooth_velocity is True, this gives the velocity dispersion in km/s.
Otherwise, it gives the width of the gaussian wavelength smoothing in
Angstroms.  These widths are in terms of <span class="math">\(\sigma\)</span>, <em>not</em> FWHM.</li>
<li><strong>agb_dust</strong> &#8211; (default: 1.0)
Scales the circumstellar AGB dust emission.</li>
<li><strong>min_wave_smooth</strong> &#8211; (default: 1e3)
Minimum wavelength to consider when smoothing the spectrum.</li>
<li><strong>max_wave_smooth</strong> &#8211; (default: 1e4)
Maximum wavelength to consider when smoothing the spectrum.</li>
<li><strong>gas_logu</strong> &#8211; (default: -2)
Log of the gas ionization parameter, for determining the nebular
emission.</li>
<li><strong>gas_logz</strong> &#8211; (default: 0.0)
Log of the gas-phase metallicity, for determining the nebular emission.
In units of <span class="math">\(\log (Z/Z_\odot)\)</span>.</li>
<li><strong>igm_factor</strong> &#8211; (default: 1.0)
Factor used to scale the IGM optical depth.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="fsps.StellarPopulation.dust_mass">
<code class="descname">dust_mass</code><a class="headerlink" href="#fsps.StellarPopulation.dust_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Dust mass, in solar masses.</p>
</dd></dl>

<dl class="method">
<dt id="fsps.StellarPopulation.filter_data">
<code class="descname">filter_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fsps.StellarPopulation.filter_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return effective wavelengths, and vega and solar magnitudes
of all filters.</p>
</dd></dl>

<dl class="method">
<dt id="fsps.StellarPopulation.get_mags">
<code class="descname">get_mags</code><span class="sig-paren">(</span><em>zmet=None</em>, <em>tage=0.0</em>, <em>redshift=0.0</em>, <em>bands=None</em><span class="sig-paren">)</span><a class="headerlink" href="#fsps.StellarPopulation.get_mags" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the magnitude of the CSP.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zmet</strong> &#8211; (default: None)
The (integer) index of the metallicity to use. By default, use
the current value of <code class="docutils literal"><span class="pre">self.params[&quot;zmet&quot;]</span></code>.</li>
<li><strong>tage</strong> &#8211; (default: 0.0)
The age of the stellar population. By default, this will compute
a grid of ages from <span class="math">\(t pprox 0\)</span> to the maximum age in the
isochrones.</li>
<li><strong>redshift</strong> &#8211; (default: 0.0)
Optionally redshift the spectrum first.</li>
<li><strong>bands</strong> &#8211; (default: None)
The names of the filters that you would like to compute the
magnitude for. This should correspond to the result of
<a class="reference internal" href="../filters_api/#fsps.find_filter" title="fsps.find_filter"><code class="xref py py-func docutils literal"><span class="pre">fsps.find_filter()</span></code></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns mags:</th><td class="field-body"><p class="first last">The magnitude grid. If an age was was provided by the <code class="docutils literal"><span class="pre">tage</span></code>
parameter then the result is a 1D array with <code class="docutils literal"><span class="pre">NBANDS</span></code> values.
Otherwise, it is a 2D array with shape <code class="docutils literal"><span class="pre">(NTFULL,</span> <span class="pre">NBANDS)</span></code>. If a
particular set of bands was requested then this return value will
be properly compressed along that axis, ordered according to the
<code class="docutils literal"><span class="pre">bands</span></code> argument.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fsps.StellarPopulation.get_spectrum">
<code class="descname">get_spectrum</code><span class="sig-paren">(</span><em>zmet=None</em>, <em>tage=0.0</em>, <em>peraa=False</em><span class="sig-paren">)</span><a class="headerlink" href="#fsps.StellarPopulation.get_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return spectra for the current CSP.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zmet</strong> &#8211; (default: None)
The (integer) index of the metallicity to use. By default, use
the current value of <code class="docutils literal"><span class="pre">self.params[&quot;zmet&quot;]</span></code>.</li>
<li><strong>tage</strong> &#8211; (default: 0.0)
The age of the stellar population for which to obtain a spectrum. By
default, this will compute a grid of ages from <span class="math">\(t \approx 0\)</span>
to the maximum age in the isochrones.</li>
<li><strong>peraa</strong> &#8211; (default: False)
If <code class="docutils literal"><span class="pre">True</span></code>, return the spectrum in <span class="math">\(L_\odot/\AA\)</span>.
Otherwise, return the spectrum in the FSPS standard
<span class="math">\(L_\odot/\mathrm{Hz}\)</span>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns wavelengths:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">The wavelength grid in Angstroms.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Returns spectrum:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last">The spectrum in <span class="math">\(L_\odot/\mathrm{Hz}\)</span> or <span class="math">\(L_\odot/\AA\)</span>.
If an age was provided by the <code class="docutils literal"><span class="pre">tage</span></code> parameter then the result
is a 1D array with <code class="docutils literal"><span class="pre">NSPEC</span></code> values. Otherwise, it is a 2D array
with shape <code class="docutils literal"><span class="pre">(NTFULL,</span> <span class="pre">NSPEC)</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fsps.StellarPopulation.get_stellar_spectrum">
<code class="descname">get_stellar_spectrum</code><span class="sig-paren">(</span><em>mact</em>, <em>logt</em>, <em>lbol</em>, <em>logg</em>, <em>phase</em>, <em>comp</em>, <em>mdot=0</em>, <em>weight=1</em>, <em>zmet=None</em>, <em>peraa=True</em><span class="sig-paren">)</span><a class="headerlink" href="#fsps.StellarPopulation.get_stellar_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the spectrum of a star with a given set of physical parameters.
This uses the metallicity given by the current value of <code class="docutils literal"><span class="pre">zmet</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mact</strong> &#8211; Actual stellar mass (after taking into account mass loss).  Used to
calculate surface gravity.</li>
<li><strong>logt</strong> &#8211; The log of the effective temperature.</li>
<li><strong>lbol</strong> &#8211; Stellar luminosity, in units of <span class="math">\(L_\odot\)</span></li>
<li><strong>logg</strong> &#8211; Log of the surface gravity g.  Note that this variable is actually
ignored, and logg is calculated internally using <code class="docutils literal"><span class="pre">mact</span></code>,
<code class="docutils literal"><span class="pre">lbol</span></code>, and <code class="docutils literal"><span class="pre">logt</span></code>.</li>
<li><strong>phase</strong> &#8211; The evolutionary phase, 0 through 6.</li>
<li><strong>comp</strong> &#8211; Composition, in terms of C/O ratio.  Only used for AGB stars
(phase=5), where the division between carbon and oxyygen rich stars
is <span class="math">\(C/O = 1\)</span>.</li>
<li><strong>mdot</strong> &#8211; The log of the mass loss rate.</li>
<li><strong>weight</strong> &#8211; The IMF weight</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns outspec:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">The spectrum of the star, in <span class="math">\(L_\odot/\mathrm{Hz}\)</span></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fsps.StellarPopulation.isochrones">
<code class="descname">isochrones</code><span class="sig-paren">(</span><em>outfile=u'pyfsps_tmp'</em><span class="sig-paren">)</span><a class="headerlink" href="#fsps.StellarPopulation.isochrones" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the isochrone data (age, mass, weights, phases, magnitudes, etc.)
to a .cmd file, then read it into a huge numpy array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>outfile</strong> &#8211; (default: &#8216;pyfsps_tmp&#8217;)
The file root name of the .cmd file, which will be placed in the
$SPS_HOME/OUTPUTS/ directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns dat:</th><td class="field-body">A huge numpy array containing information about every isochrone
point for the current metallicity.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns header:</th><td class="field-body">A list of the column names pulled from the header of the .cmd file.
The number of column names will not match the number of columns in
dat since there are as many <code class="docutils literal"><span class="pre">mags</span></code> as filters.  Use
<code class="docutils literal"><span class="pre">fsps.list_filters()</span></code> to get the ordered filter name list.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fsps.StellarPopulation.log_age">
<code class="descname">log_age</code><a class="headerlink" href="#fsps.StellarPopulation.log_age" title="Permalink to this definition">¶</a></dt>
<dd><p>log10(age/yr).</p>
</dd></dl>

<dl class="attribute">
<dt id="fsps.StellarPopulation.log_lbol">
<code class="descname">log_lbol</code><a class="headerlink" href="#fsps.StellarPopulation.log_lbol" title="Permalink to this definition">¶</a></dt>
<dd><p>log(bolometric luminosity / <span class="math">\(L_\odot/\)</span>).</p>
</dd></dl>

<dl class="attribute">
<dt id="fsps.StellarPopulation.sfr">
<code class="descname">sfr</code><a class="headerlink" href="#fsps.StellarPopulation.sfr" title="Permalink to this definition">¶</a></dt>
<dd><p>Star formation rate (solar masses per year).</p>
</dd></dl>

<dl class="method">
<dt id="fsps.StellarPopulation.smoothspec">
<code class="descname">smoothspec</code><span class="sig-paren">(</span><em>wave</em>, <em>spec</em>, <em>sigma</em>, <em>minw=None</em>, <em>maxw=None</em><span class="sig-paren">)</span><a class="headerlink" href="#fsps.StellarPopulation.smoothspec" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooth a spectrum by a gaussian with standard deviation given by sigma.
Whether the smoothing is in velocity space or in wavelength space
depends on the value of the value of smooth_velocity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wave</strong> &#8211; The input wavelength grid.</li>
<li><strong>spec</strong> &#8211; The input spectrum.</li>
<li><strong>sigma</strong> &#8211; The standard deviation of the gaussian broadening function.</li>
<li><strong>minw</strong> &#8211; Optionally set the minimum wavelength to consider when
broadening.</li>
<li><strong>maxw</strong> &#8211; Optionally set the maximum wavelength to consider when
broadening.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns outspec:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">The smoothed spectrum, on the same wavelength grid as the input.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fsps.StellarPopulation.ssp_ages">
<code class="descname">ssp_ages</code><a class="headerlink" href="#fsps.StellarPopulation.ssp_ages" title="Permalink to this definition">¶</a></dt>
<dd><p>The age grid of the SSPs, in log(years), used by FSPS.</p>
</dd></dl>

<dl class="attribute">
<dt id="fsps.StellarPopulation.stellar_mass">
<code class="descname">stellar_mass</code><a class="headerlink" href="#fsps.StellarPopulation.stellar_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Stellar mass in solar masses (including remants if the FSPS
parameter <cite>add_stellar_remants=1</cite>).</p>
</dd></dl>

<dl class="attribute">
<dt id="fsps.StellarPopulation.wavelengths">
<code class="descname">wavelengths</code><a class="headerlink" href="#fsps.StellarPopulation.wavelengths" title="Permalink to this definition">¶</a></dt>
<dd><p>The wavelength scale for the computed spectra, in <span class="math">\(\AA\)</span></p>
</dd></dl>

<dl class="attribute">
<dt id="fsps.StellarPopulation.zlegend">
<code class="descname">zlegend</code><a class="headerlink" href="#fsps.StellarPopulation.zlegend" title="Permalink to this definition">¶</a></dt>
<dd><p>The available metallicities.</p>
</dd></dl>

<dl class="method">
<dt id="fsps.StellarPopulation.ztinterp">
<code class="descname">ztinterp</code><span class="sig-paren">(</span><em>zpos</em>, <em>tpos</em>, <em>peraa=False</em><span class="sig-paren">)</span><a class="headerlink" href="#fsps.StellarPopulation.ztinterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an SSP spectrum, mass, and luminosity interpolated to a target
metallicity and age.  This effectively wraps the ZTINTERP subroutine.
Only the SSPs bracketing a given metallicity will be regenerated, if
parameters are dirty.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zpos</strong> &#8211; The metallicity, in units of <span class="math">\(\log(Z/Z_\odot)\)</span></li>
<li><strong>tpos</strong> &#8211; The desired age, in Gyr.</li>
<li><strong>peraa</strong> &#8211; (default: False)
If true, return spectra in units of <span class="math">\(L_\odot/\AA\)</span>, otherwise
<span class="math">\(L_\odot/\mathrm{Hz}\)</span></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns spec:</th><td class="field-body"><p class="first">The SSP spectrum, interpolated to zpos and tpos.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns mass:</th><td class="field-body"><p class="first">The stellar mass of the SSP at tpos.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns lbol:</th><td class="field-body"><p class="first last">The bolometric luminosity of the returned SSP.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
    <a href="../">
        <img class="logo" src="../_static/pyfsps_logo.svg" alt="Logo"/>
    </a>
</p>

<p>
    Python-FSPS is a set of bindings to Charlie Conroy's
    <a href="https://github.com/cconroy20/fsps">
      Flexible Stellar Population Synthesis</a> Fortran library.
</p>
  <h3><a href="../">Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Modelling Stellar Populations</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="../">Documentation overview</a><ul>
      <li>Previous: <a href="../installation/" title="previous chapter">Installation</a></li>
      <li>Next: <a href="../filters_api/" title="next chapter">Working with Filters</a></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright 2013-2015 Dan Foreman-Mackey & contributors.
    </div>
    <!-- http://aralbalkan.com/scribbles/fork-me-on-github-retina-ribbons/ -->
    <a href="https://github.com/dfm/python-fsps"><img style="position: absolute; top: 0; right: 0; border: 0; width: 149px; height: 149px;" src="http://aral.github.com/fork-me-on-github-retina-ribbons/right-cerulean@2x.png" alt="Fork me on GitHub"></a>

    <!-- <script type="text/javascript"> -->
    <!--     var _gaq = _gaq || []; -->
    <!--     _gaq.push(['_setAccount', 'UA-22909046-1']); -->
    <!--     _gaq.push(['_trackPageview']); -->
    <!--     (function() { -->
    <!--         var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; -->
    <!--         ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; -->
    <!--         var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); -->
    <!--         })(); -->
    <!-- </script> -->

    <!-- <script type="text/javascript"> -->
    <!--     var _gauges = _gauges || []; -->
    <!--     (function() { -->
    <!--      var t   = document.createElement('script'); -->
    <!--      t.type  = 'text/javascript'; -->
    <!--      t.async = true; -->
    <!--      t.id    = 'gauges-tracker'; -->
    <!--      t.setAttribute('data-site-id', '510fb7df613f5d10200000c4'); -->
    <!--      t.src = '//secure.gaug.es/track.js'; -->
    <!--      var s = document.getElementsByTagName('script')[0]; -->
    <!--      s.parentNode.insertBefore(t, s); -->
    <!--     })(); -->
    <!-- </script> -->
  </body>
</html>