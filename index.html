

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Python FSPS &mdash; Python FSPS  documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Python FSPS  documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">Python FSPS  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="python-fsps">
<h1>Python FSPS<a class="headerlink" href="#python-fsps" title="Permalink to this headline">¶</a></h1>
<p>These are a set of Python binding&#8217;s to <a class="reference external" href="http://www.ucolick.org/~cconroy/FSPS.html">Charlie Conroy&#8217;s Flexible Stellar
Population Synthesis (FSPS) Fortran library</a>. This code is very much inspired
by <a class="reference external" href="https://github.com/jonathansick/pySPS">Jonathan Sick&#8217;s version</a> of the
same thing. The difference is that this version is lighter weight: providing
less baked functionality but trading that for fewer dependencies.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>There are only two required dependencies for building this package: FSPS
(obviously) and <a class="reference external" href="http://www.numpy.org/">NumPy</a>. First, m sure that you have
NumPy installed (using your favorite method) and access to the <tt class="docutils literal"><span class="pre">f2py</span></tt>
executable (this should be installed along with NumPy).
Then, you need to follow the directions on <a class="reference external" href="http://www.ucolick.org/~cconroy/FSPS.html">the FSPS page</a> to checkout and compile
the FSPS package. In particular, these bindings rely on the value of the
<tt class="docutils literal"><span class="pre">SPS_HOME</span></tt> environment variable being correctly set and the compiled
<tt class="docutils literal"><span class="pre">.o</span></tt> and <tt class="docutils literal"><span class="pre">.mod</span></tt> files be available in the <tt class="docutils literal"><span class="pre">${SPS_HOME}/src</span></tt>
directory. Finally, clone the <a class="reference external" href="https://github.com/dfm/python-fsps">python-fsps repoistory</a>: <tt class="docutils literal"><span class="pre">git</span> <span class="pre">clone</span>
<span class="pre">https://github.com/dfm/python-fsps.git</span></tt> and run</p>
<div class="highlight-python"><pre>cd python-fsps
python setup.py build_fsps
python setup.py develop</pre>
</div>
<p>To test the installation, run (this doesn&#8217;t actually work yet):</p>
<div class="highlight-python"><pre>python -c 'import fsps;fsps.test()'</pre>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fsps.StellarPopulation">
<em class="property">class </em><tt class="descclassname">fsps.</tt><tt class="descname">StellarPopulation</tt><big>(</big><em>compute_vega_mags=True</em>, <em>redshift_colors=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#fsps.StellarPopulation" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the main interface to use when interacting with FSPS from Python.
Most of the Fortran API is exposed through Python hooks with various
features added for user friendliness. When initializing, you can set any
of the parameters of the system using keyword arguments. Below, you&#8217;ll
find a list of the options that you can include (with the comments taken
directly from the <a class="reference external" href="http://www.ucolick.org/~cconroy/FSPS_files/MANUAL.pdf">FSPS docs</a>. To change
these values later, use the <tt class="docutils literal"><span class="pre">params</span></tt> property—which is <tt class="docutils literal"><span class="pre">dict</span></tt>-like.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sp</span> <span class="o">=</span> <span class="n">StellarPopulation</span><span class="p">(</span><span class="n">imf_type</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sp</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s">&quot;imf_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>compute_vega_mags</strong> &#8211; (default: True)
A switch that sets the zero points of the magnitude system: <tt class="docutils literal"><span class="pre">True</span></tt>
uses Vega magnitudes versus AB magnitudes.</li>
<li><strong>redshift_colors</strong> &#8211; <p>(default: False)</p>
<ul>
<li><tt class="docutils literal"><span class="pre">False</span></tt>: Magnitudes are computed at a fixed redshift specified
by <tt class="docutils literal"><span class="pre">zred</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">True</span></tt>: Magnitudes are computed at a redshift that corresponds
to the age of the output SSP/CSP (assuming a redshift–age relation
appropriate for a WMAP5 cosmology). This switch is useful if
the user wants to compute the evolution in observed colors of a
SSP/CSP.</li>
</ul>
</li>
<li><strong>dust_type</strong> &#8211; <p>(default: 0)
Common variable deﬁning the extinction curve for dust around old
stars:</p>
<ul>
<li>0: power law with index dust index set by <tt class="docutils literal"><span class="pre">dust_index</span></tt>.</li>
<li>1: Milky Way extinction law (with <span class="math">\(R = A_V /E(B - V)\)</span> value
<tt class="docutils literal"><span class="pre">mwr</span></tt>) parameterized by Cardelli et al. (1989).</li>
<li>2: Calzetti et al. (2000) attenuation curve. Note that if this
value is set then the dust attenuation is applied to all starlight
equally (not split by age), and therefore the only relevant
parameter is <tt class="docutils literal"><span class="pre">dust2</span></tt>, which sets the overall normalization.</li>
<li>3: allows the user to access a variety of attenuation curve models
from Witt &amp; Gordon (2000) using the parameters <tt class="docutils literal"><span class="pre">wgp1</span></tt> and
<tt class="docutils literal"><span class="pre">wgp2</span></tt>.</li>
</ul>
</li>
<li><strong>imf_type</strong> &#8211; <p>(default: 2)
Common variable defining the IMF type:</p>
<ul>
<li>0: Salpeter (1955)</li>
<li>1: Chabrier (2003)</li>
<li>2: Kroupa (2001)</li>
<li>3: van Dokkum (2008)</li>
<li>4: Dave (2008)</li>
<li>5: tabulated piece-wise power law IMF, specified in <tt class="docutils literal"><span class="pre">imf.dat</span></tt>
file located in the data directory</li>
</ul>
</li>
<li><strong>pagb</strong> &#8211; (default: 1.0)
Weight given to the post–AGB phase. A value of 0.0 turns off post-AGB
stars; a value of 1.0 implies that the Vassiliadis &amp; Wood (1994)
tracks are implemented as–is.</li>
<li><strong>dell</strong> &#8211; (default: 0.0)
Shift in <span class="math">\(\log L_\mathrm{bol}\)</span> of the TP-AGB isochrones. Note
that the meaning of this parameter and the one below has changed to
reflect the updated calibrations presented in Conroy &amp; Gunn (2009).
That is, these parameters now refer to a modification about the
calibrations presented in that paper.</li>
<li><strong>delt</strong> &#8211; (default: 0.0)
Shift in <span class="math">\(\log T_\mathrm{eff}\)</span> of the TP-AGB isochrones.</li>
<li><strong>fbhb</strong> &#8211; (default: 0.0)
Fraction of horizontal branch stars that are blue. The blue HB stars
are uniformly spread in <span class="math">\(\log T_\mathrm{eff}\)</span> to <cite>10^4</cite> K. See
Conroy et al. (2009a) for details and a plausible range.</li>
<li><strong>sbss</strong> &#8211; (default: 0.0)
Specific frequency of blue straggler stars. See Conroy et al. (2009a)
for details and a plausible range.</li>
<li><strong>tau</strong> &#8211; (default: 1.0)
Defines e-folding time for the SFH, in Gyr. Only used if <tt class="docutils literal"><span class="pre">sfh=1</span></tt> or
<tt class="docutils literal"><span class="pre">sfh=4</span></tt>. The range is <span class="math">\(0.1 &lt; \tau &lt; 10^2\)</span>.</li>
<li><strong>const</strong> &#8211; (default: 0.0)
Defines the constant component of the SFH. This quantity is defined
as the fraction of mass formed in a constant mode of SF; the range
is therefore <span class="math">\(0 \le C \le 1\)</span>. Only used if <tt class="docutils literal"><span class="pre">sfh=1</span></tt> or
<tt class="docutils literal"><span class="pre">sf=4</span></tt>.</li>
<li><strong>tage</strong> &#8211; (default: 0.0)
If set to a non-zero value, the
<tt class="xref py py-func docutils literal"><span class="pre">fsps.StellarPopulation.compute_csp()</span></tt> method will compute the
spectra and magnitudes only at this age, and will therefore only
output one age result. The units are Gyr. (The default is to compute
and return results from <span class="math">\(t \approx 0\)</span> to the maximum age in
the isochrones).</li>
<li><strong>fburst</strong> &#8211; (default: 0.0)
Deﬁnes the fraction of mass formed in an instantaneous burst of star
formation. Only used if <tt class="docutils literal"><span class="pre">sfh=1</span></tt> or <tt class="docutils literal"><span class="pre">sfh=4</span></tt>.</li>
<li><strong>tburst</strong> &#8211; (default: 11.0)
Defines the age of the Universe when the burst occurs. If
<tt class="docutils literal"><span class="pre">tburst</span> <span class="pre">&gt;</span> <span class="pre">tage</span></tt> then there is no burst. Only used if <tt class="docutils literal"><span class="pre">sfh=1</span></tt> or
<tt class="docutils literal"><span class="pre">sfh=4</span></tt>.</li>
<li><strong>dust1</strong> &#8211; (default: 0.0)
Dust parameter describing the attenuation of young stellar light,
i.e. where <tt class="docutils literal"><span class="pre">t</span> <span class="pre">&lt;=</span> <span class="pre">dust_tesc</span></tt> (for details, see Conroy et al. 2009a).</li>
<li><strong>dust2</strong> &#8211; (default: 0.0)
Dust parameter describing the attenuation of old stellar light,
i.e. where <tt class="docutils literal"><span class="pre">t</span> <span class="pre">&gt;</span> <span class="pre">dust_tesc</span></tt> (for details, see Conroy et al. 2009a).</li>
<li><strong>logzsol</strong> &#8211; (default: -0.2)
Undocumented.</li>
<li><strong>zred</strong> &#8211; (default: 0.0)
Redshift. If this value is non-zero and if <tt class="docutils literal"><span class="pre">redshift_colors=1</span></tt>,
the magnitudes will be computed for the spectrum placed at redshift
<tt class="docutils literal"><span class="pre">zred</span></tt>.</li>
<li><strong>pmetals</strong> &#8211; (default: 0.02)
Undocumented.</li>
<li><strong>imf1</strong> &#8211; (default: 1.3)
Logarithmic slope of the IMF over the range <span class="math">\(0.08 &lt; M &lt; 0.5
M_\odot\)</span>. Only used if <tt class="docutils literal"><span class="pre">imf_type=2</span></tt>.</li>
<li><strong>imf2</strong> &#8211; (default: 2.3)
Logarithmic slope of the IMF over the range <span class="math">\(0.5 &lt; M &lt; 1
M_\odot\)</span>. Only used if <tt class="docutils literal"><span class="pre">imf_type=2</span></tt>.</li>
<li><strong>imf3</strong> &#8211; (default: 2.3)
Logarithmic slope of the IMF over the range <span class="math">\(1.0 &lt; M &lt; 100
M_\odot\)</span>. Only used if <tt class="docutils literal"><span class="pre">imf_type=2</span></tt>.</li>
<li><strong>vdmc</strong> &#8211; (default: 0.08)
IMF parameter defined in van Dokkum (2008). Only used if
<tt class="docutils literal"><span class="pre">imf_type=3</span></tt>.</li>
<li><strong>dust_clumps</strong> &#8211; (default: -99.)
Dust parameter describing the dispersion of a Gaussian PDF density
distribution for the old dust. Setting this value to -99.0 sets the
distribution to a uniform screen. See Conroy et al. (2009b) for
details.</li>
<li><strong>frac_nodust</strong> &#8211; (default: 0.0)
Fraction of starlight that is not attenuated by the diffuse dust
component (i.e. that is not affected by <tt class="docutils literal"><span class="pre">dust2</span></tt>).</li>
<li><strong>dust_index</strong> &#8211; (default: -0.7)
Power law index of the attenuation curve. Only used when
<tt class="docutils literal"><span class="pre">dust_type=0</span></tt>.</li>
<li><strong>dust_tesc</strong> &#8211; (default: 7.0)
Stars younger than <tt class="docutils literal"><span class="pre">dust_tesc</span></tt> are attenuated by both <tt class="docutils literal"><span class="pre">dust1</span></tt> and
<tt class="docutils literal"><span class="pre">dust2</span></tt>, while stars older are attenuated by <tt class="docutils literal"><span class="pre">dust2</span></tt> only. Units
are <span class="math">\(\log (\mathrm{yrs})\)</span>.</li>
<li><strong>frac_obrun</strong> &#8211; (default: 0.0)
Undocumented.</li>
<li><strong>uvb</strong> &#8211; (default: 1.0)
Parameter characterizing the strength of the 2175A extinction feature
with respect to the standard Cardelli et al. determination for the
MW. Only used when <tt class="docutils literal"><span class="pre">dust_type=1</span></tt>.</li>
<li><strong>mwr</strong> &#8211; (default: 3.1)
The ratio of total to selective absorption which characterizes the MW
extinction curve: <span class="math">\(R = A_V /E(B - V)\)</span>. Only used when
<tt class="docutils literal"><span class="pre">dust_type=1</span></tt>.</li>
<li><strong>redgb</strong> &#8211; (default: 1.0)
Undocumented.</li>
<li><strong>dust1_index</strong> &#8211; (default: -1.0)
Undocumented.</li>
<li><strong>mdave</strong> &#8211; (default: 0.5)
IMF parameter defined in Dave (2008). Only used if <tt class="docutils literal"><span class="pre">imf_type=4</span></tt>.</li>
<li><strong>sf_start</strong> &#8211; (default: 0.0)
Start time of the SFH, in Gyr.</li>
<li><strong>sf_trunc</strong> &#8211; (default: 0.0)
Undocumented.</li>
<li><strong>sf_theta</strong> &#8211; (default: 0.0)
Undocumented.</li>
<li><strong>duste_gamma</strong> &#8211; (default: 0.01)
Parameter of the Draine &amp; Li (2007) dust emission model. Specifies
the relative contribution of dust heated at a radiation field
strength of <span class="math">\(U_\mathrm{min}\)</span> and dust heated at
<span class="math">\(U_\mathrm{min} &lt; U \le U_\mathrm{max}\)</span>. Allowable range is 0.0
– 1.0.</li>
<li><strong>duste_umin</strong> &#8211; (default: 1.0)
Parameter of the Draine &amp; Li (2007) dust emission model. Specifies
the minimum radiation field strength in units of the MW value. Valid
range is 0.1 – 25.0.</li>
<li><strong>duste_qpah</strong> &#8211; (default: 3.5)
Parameter of the Draine &amp; Li (2007) dust emission model. Specifies
the grain size distribution through the fraction of grain mass in
PAHs. This parameter has units of % and a valid range of 0.0 − 10.0.</li>
<li><strong>fcstar</strong> &#8211; (default: 1.0)
Fraction of stars that the Padova isochrones identify as Carbon stars
that FSPS assigns to a Carbon star spectrum. Set this to 0.0 if for
example the users wishes to turn all Carbon stars into regular M-type
stars.</li>
<li><strong>masscut</strong> &#8211; (default: 150.0)
Undocumented.</li>
<li><strong>zmet</strong> &#8211; (default: 1)
The metallicity is specified as an integer ranging between 1 and 22.</li>
<li><strong>sfh</strong> &#8211; <p>(default: 0)
Defines the type of star formation history, normalized such that one
solar mass of stars is formed over the full SFH. Default value is 0.</p>
<ul>
<li>0: Compute an SSP</li>
<li>1: Compute a five parameter SFH (see below).</li>
<li>2: Compute a tabulated SFH defined in a file called <tt class="docutils literal"><span class="pre">sfh.dat</span></tt>
that must reside in the data directory. The file must contain three
rows. The first column is time since the Big Bang in Gyr, the
second is the SFR in units of solar masses per year, the third is
the absolute metallicity. An example is provided in the data
directory. The time grid in this file can be arbitrary (so long as
the units are correct), but it is up to the user to ensure that the
tabulated SFH is well-sampled so that the outputs are stable.
Obviously, highly oscillatory data require dense sampling.</li>
<li>4: Delayed tau-model. This is the same as option 1 except that the
tau-model component takes the form <span class="math">\(t\,e^{−t/\tau}\)</span>.</li>
</ul>
</li>
<li><strong>wgp1</strong> &#8211; (default: 1)
Integer specifying the optical depth in the Witt &amp; Gordon (2000)
models. Values range from 1 − 18, corresponding to optical depths of
0.25, 0.50, 0.75, 1.00, 1.50, 2.00, 2.50, 3.00, 3.50, 4.00, 4.50,
5.00, 5.50, 6.00, 7.00, 8.00, 9.00, 10.0. Note that these optical
depths are defined differently from the optical depths defined by
the parameters <tt class="docutils literal"><span class="pre">dust1</span></tt> and <tt class="docutils literal"><span class="pre">dust2</span></tt>. See Witt &amp; Gordon (2000)
for details.</li>
<li><strong>wgp2</strong> &#8211; (default: 1)
Integer specifying the type of large-scale geometry and extinction
curve. Values range from 1-6, corresponding to MW+dusty, MW+shell,
MW+cloudy, SMC+dusty, SMC+shell, SMC+cloudy. Dusty, shell, and cloudy
specify the geometry and are described in Witt &amp; Gordon (2000).</li>
<li><strong>wgp3</strong> &#8211; (default: 1)
Integer specifying the local geometry for the Witt &amp; Gordon (2000)
dust models. A value of 0 corresponds to a homogeneous distribution,
and a value of 1 corresponds to a clumpy distribution. See Witt &amp;
Gordon (2000) for details.</li>
<li><strong>evtype</strong> &#8211; (default: -1)
Undocumented.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="fsps.StellarPopulation.get_mags">
<tt class="descname">get_mags</tt><big>(</big><em>redshift=0.0</em><big>)</big><a class="headerlink" href="#fsps.StellarPopulation.get_mags" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the magnitude of the CSP in all known bands. The shape of the
resulting object is <tt class="docutils literal"><span class="pre">(NAGE,</span> <span class="pre">NBANDS)</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>redshift</strong> &#8211; (default: 0.0)
Optionally redshift the spectrum first.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fsps.StellarPopulation.spectrum">
<tt class="descname">spectrum</tt><a class="headerlink" href="#fsps.StellarPopulation.spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>A grid (in age) of the spectra for the current CSP. The shape of
the resulting object is <tt class="docutils literal"><span class="pre">(NAGE,</span> <span class="pre">NSPEC)</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="fsps.StellarPopulation.wavelengths">
<tt class="descname">wavelengths</tt><a class="headerlink" href="#fsps.StellarPopulation.wavelengths" title="Permalink to this definition">¶</a></dt>
<dd><p>The wavelength scale for the computed spectra.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p><em>Copyright 2013 Dan Foreman-Mackey.</em></p>
<p>These bindings are available under the <a class="reference external" href="https://raw.github.com/dfm/python-fsps/master/LICENSE.rst">MIT License</a>. See the <a class="reference external" href="http://www.ucolick.org/~cconroy/FSPS.html">FSPS
homepage</a> for usage
restrictions and citation requirements.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Python FSPS</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#api">API</a></li>
<li><a class="reference internal" href="#license">License</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex/" title="General Index"
             >index</a></li>
        <li><a href="#">Python FSPS  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Dan Foreman-Mackey.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>